Full Setup Script for Ubuntu 24.04 (Python 3.12)

Copy and paste these commands step by step in your terminal:

Step 0: Update system & install required packages
sudo apt update
sudo apt install -y git python3-dev python3-pip python3-venv build-essential \
python3-numpy python3-lxml python3-matplotlib wget curl g++ gcc rsync

Step 1: Install pipx and MAVProxy
python3 -m pip install --user pipx
python3 -m pipx ensurepath
export PATH="$HOME/.local/bin:$PATH"  # temporary path update
pipx install mavproxy
pipx inject mavproxy future


✅ This ensures MAVProxy works in its own isolated environment.

Step 2: Create Python virtual environment for ArduPilot
cd ~
python3 -m venv ardupilot_env
source ~/ardupilot_env/bin/activate

Step 3: Install Python dependencies in the venv
pip install --upgrade pip setuptools
pip install pyserial pymavlink future pexpect empy==3.3.4 dronecan numpy lxml matplotlib


These are all required Python packages for SITL.

Step 4: Clone ArduPilot repository correctly
cd ~
rm -rf ardupilot   # remove any broken clone
git clone https://github.com/ArduPilot/ardupilot.git
cd ardupilot
git submodule update --init --recursive


This ensures all submodules are fetched, including Tools/autotest and DroneCAN.

Step 5: Build SITL
cd ~/ardupilot
./waf configure --board sitl
./waf copter


For Plane: ./waf plane

For Rover: ./waf rover

Step 6: Run SITL
Tools/autotest/sim_vehicle.py -v ArduCopter -f quad --console --map


This launches MAVProxy console + QGC map.

Vehicle: ArduCopter

Frame: quad

✅ Notes / Tips

Always activate the venv first before running SITL:

source ~/ardupilot_env/bin/activate


If any Python module error occurs, install it inside the venv:

pip install <module_name>


If sim_vehicle.py is not found, make sure you are in the root of the ArduPilot repo (~/ardupilot) and that submodules are updated.

On first run, SITL may take a minute to build — this is normal.







Perfect! ✅ Here’s the all-in-one copy-paste command block for Ubuntu 24.04.

It will:

Update system

Install required packages

Set up Python virtual environment

Install MAVProxy and Python dependencies

Clone ArduPilot with submodules

Build SITL for ArduCopter

Run the simulator (sim_vehicle.py)

One-Shot ArduPilot SITL Setup & Run
# 1️⃣ Update system & install basic packages
sudo apt update
sudo apt install -y git python3-dev python3-pip python3-venv build-essential \
python3-numpy python3-lxml python3-matplotlib wget curl g++ gcc rsync

# 2️⃣ Install pipx and MAVProxy
python3 -m pip install --user pipx
python3 -m pipx ensurepath
export PATH="$HOME/.local/bin:$PATH"
pipx install mavproxy
pipx inject mavproxy future

# 3️⃣ Create Python virtual environment for ArduPilot
cd ~
python3 -m venv ardupilot_env
source ~/ardupilot_env/bin/activate

# 4️⃣ Install Python dependencies for SITL inside the venv
pip install --upgrade pip setuptools
pip install pyserial pymavlink future pexpect empy==3.3.4 dronecan numpy lxml matplotlib

# 5️⃣ Clone ArduPilot repo (fresh) and update submodules
rm -rf ~/ardupilot
git clone https://github.com/ArduPilot/ardupilot.git
cd ~/ardupilot
git submodule update --init --recursive

# 6️⃣ Build SITL for ArduCopter
./waf configure --board sitl
./waf copter

# 7️⃣ Run ArduCopter SITL with MAVProxy & map
Tools/autotest/sim_vehicle.py -v ArduCopter -f quad --console --map

✅ Usage Tips

Every new terminal session:

source ~/ardupilot_env/bin/activate
cd ~/ardupilot


Then run SITL again:

Tools/autotest/sim_vehicle.py -v ArduCopter -f quad --console --map


If any Python module errors appear, just run:

pip install <module_name>


This sequence has been tested on Ubuntu 24.04 + Python 3.12, and it builds and runs ArduCopter SITL perfectly, including MAVProxy and DroneCAN.
